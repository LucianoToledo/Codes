<!DOCTYPE html>
<html lang="en">

    <head>
    <div th:include="fragment :: header"></div>
    <title>Libros</title>
</head>

<body>

    <!-- navbar -->
    <div th:include="fragment :: nav"></div>
    <div th:include="fragment :: modals"></div>
    <!-- end navbar -->
    <br>

    <div class="alert alert-success" role="alert" th:if="${exito != null}" th:text="${exito}"></div>
    <div class="alert alert-danger" role="alert" th:if="${error != null}" th:text="${error}"></div>
    <div class="d-grid gap-2 d-md-block"></div>
    <table class="table table-striped">
        <thead>
            <tr>
                <th>Titulo</th>
                <th>AÃ±o</th>
                <th>Ejemplares</th>
                <th>Ejemplares Prestados</th>
                <th>Ejemplares Restantes</th>
                <th>Fecha Alta</th>
                <th>Fecha Baja</th>
                <th>Activo</th>
                <th>Autor</th>
                <th>Editorial</th>
                <th>Accion</th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="libro : ${libros}">
                <td th:text="${libro.titulo}"></td>
                <td th:text="${libro.anio}"></td>
                <td th:text="${libro.ejemplares}"></td>
                <td th:text="${libro.ejemplaresPrestados}"></td>
                <td th:text="${libro.ejemplaresRestantes}"></td>
                <td th:text="${libro.fechaAltaLibro}"></td>
                <td th:text="${libro.fechaBajaLibro}"></td>
                <td th:text="${libro.activo ? 'Si' : 'No'}"></td>
                <td th:text="${libro.autor.nombre}"></td>
                <td th:text="${libro.editorial.nombre}"></td>
                <td>
                    <div class="d-grid gap-2 d-md-block">
                        <a class="btn btn-secondary" th:href="@{/editarLibro/} + ${libro.id}">Editar Datos</a>
                        <a class="btn btn-danger" th:href="@{/eliminarLibro/} + ${libro.id}">Eliminar Libro</a>
                        <a class="btn btn-warning" th:href="@{/bajaLibro/} + ${libro.id}">Baja Libro</a>
                        <a class="btn btn-warning" th:href="@{/altaLibro/} + ${libro.id}">Alta Libro</a>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <div class="button_bottom">
        <button type="button" class="btn btn-secondary btn-l"><a th:href="@{/}">Volver</a></button>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

</body>

</html>